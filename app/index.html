<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>Bluetooth Websocket API</title>
  <meta name="description" content="#">
  <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.green-light_green.min.css">
  <script src="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="style.css">
</head>
<body id="state">
<div id="step1">
  <div id="title">Bluetooth Websocket API</div>
  <hr>
  <div>
    <p>You just received request, please confirm. Dou you approval this request?</p>
    <div id="approval"></div>
    <button id="connect" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">OK, CONNECT</button>
  </div>
  <hr>
  </div>
  <div id="no-bluetooth" class="no-bluetooth-card-square mdl-card mdl-shadow--2dp">
    <div class="mdl-card__title mdl-card--expand">
      <h2 class="mdl-card__title-text">No Web Bluetooth</h2>
    </div>
    <div class="mdl-card__supporting-text">
      Web Bluetooth isn't currently enabled. Please check that your browser and
      device support it and have any necessary development flags set.
    </div>
  </div>

</div>

<div id="step2">
  <p>Connected!</p>
</div>
<div id="loading">
  <div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active"></div>
</div>

<script src="../dist/app.js"></script>
<script>
  window.onload = function() {
    const connect = document.getElementById("connect");
    const no_bt = document.getElementById("no-bluetooth");
    if (navigator.bluetooth == undefined) {
      console.log("No navigator.bluetooth found.");
      connect.style.display = "none";
      no_bt.style.display = "block";
    } else {
      connect.style.display = "block";
      no_bt.style.display = "none";
    }
  };
</script>

</body>
</html>